@import "fonts/fonts";

@tailwind base;
@tailwind components;
@tailwind utilities;

// Variables
@import 'partials/jquery-ui/jquery-ui';
@import 'partials/jquery-ui/jquery-ui.structure';
@import 'partials/jquery-ui/jquery-ui.theme';
@import 'partials/variables';

body {
  font-family: Nunito, sans-serif;
}

#app {
  grid-template-columns: 320px auto;
}

#workflow.is-active {
  cursor: move;
}

.simplebar-track .simplebar-scrollbar.simplebar-visible:before {
  opacity: .2 !important;
}

input:not([type="checkbox"]):not([type="radio"]):not(.custom), textarea, select {
  @apply rounded-md px-3 py-1 border border-gray-300 transition duration-200;
  min-height: 2.5rem;
}
textarea {
  @apply pt-1.5;
}
input:not([type="checkbox"]):not([type="radio"]):not(.custom):focus, textarea:focus, select:focus {
  @apply border-blue-300 outline-none shadow-blue;
}
input.custom {
  @apply rounded-md transition duration-200;
  min-height: 2.5rem;
}
input.custom:focus {
  @apply border-blue-300 outline-none;
}
select {
  -moz-appearance:none; /* Firefox */
  -webkit-appearance:none; /* Safari and Chrome */
  z-index: 2;
  @apply appearance-none pr-10 relative bg-transparent;
}
div.select {
  @apply relative;
}
div.select .la {
  @apply absolute top-1.5 right-3 text-xl text-gray-500 transition duration-200;
  z-index: 1;
}
select:focus + .la {
  @apply transform rotate-180;
}

.header-content .toggle-icon {
  transform: translateY(-50%);
  transition: opacity .03s linear, transform .12s cubic-bezier(0, 0, .2, 1), -webkit-transform .12s cubic-bezier(0, 0, .2, 1);
}

.header-content .toggle-icon::before {
  @apply block absolute top-1/2 left-0 w-3.5 h-px bg-black rotate-45;
  content: "";
  transform: rotate(45deg);
  transition: opacity .03s linear,transform .12s cubic-bezier(0,0,.2,1),-webkit-transform .12s cubic-bezier(0,0,.2,1);
}
.header-content .toggle-icon::after {
  @apply block absolute top-1/2 right-0 w-3.5 h-px bg-black -rotate-45;
  content: "";
  transform: rotate(-45deg);
  transition: opacity .03s linear,transform .12s cubic-bezier(0,0,.2,1),-webkit-transform .12s cubic-bezier(0,0,.2,1);
}
.header-content.is-active .toggle-icon::before {
  @apply w-5;
  transform: translateX(2px) rotate(135deg);
}
.header-content.is-active .toggle-icon::after {
  @apply w-5;
  transform: translateX(-2px) rotate(-135deg);
}

.search-wrapper .la {
  transform: translateY(-50%);
}

.dropdown {
  top: calc(100% + 12px);
  max-height: 400px;
}
.dropdown.is-active {
  @apply opacity-100 visible scale-100;
}
.dropdown .search-results {
  max-height: 250px;
}

.button-primary {
  @apply text-white no-underline font-semibold relative py-2 px-3 text-center bg-blue-500 border border-blue-500 rounded-lg inline-flex items-center transition focus:outline-none hover:shadow-blue;
  min-height: 2.5rem;
}
.button-outline {
  @apply no-underline font-semibold relative py-2 px-3 text-center border rounded-lg inline-flex items-center transition focus:outline-none;
  min-height: 2.5rem;
}
.button-outline:not(.color-custom) {
  @apply text-blue-500 border-blue-500 bg-transparent hover:shadow-blue;
}
.button-icon {
  @apply text-white no-underline font-semibold relative w-10 h-10 p-2 text-center rounded-lg inline-flex mx-3 flex justify-center items-center transition focus:outline-none;
}
.button-icon:not(.bg-custom) {
  @apply bg-blue-500 hover:shadow-blue;
}
.button-big {
  @apply text-lg py-2.5 px-4;
}

.button-small {
  @apply text-white no-underline font-semibold relative py-1.5 px-3 text-sm text-center bg-blue-500 border border-blue-500 rounded-lg inline-flex items-center transition focus:outline-none hover:shadow-blue;
}

#sidebar-menu a.is-active {
  @apply bg-white text-blue-800;
}
#sidebar-menu a.is-disabled {
  @apply cursor-not-allowed text-gray-400;
}
#sidebar-header:hover > .due-date {
  @apply opacity-100 visible scale-100;
}

.member:hover button {
  @apply visible opacity-100 scale-100;
}
.tag:hover a {
  @apply visible opacity-100 scale-100;
}
.member:hover span {
  @apply visible opacity-100 scale-100;
}

.project-members .add-members.is-active .la-times {
  @apply block;
}
.project-members .add-members.is-active .la-user-plus {
  @apply hidden;
}

.project-members .non-members.is-active {
  @apply opacity-100 visible scale-100;
}

.ticket-members .add-members.is-active .la-times {
  @apply block;
}
.ticket-members .add-members.is-active .la-user-plus {
  @apply hidden;
}

.ticket-members .non-members.is-active {
  @apply opacity-100 visible scale-100;
}

.add-tags-button.is-active .la-times {
  @apply block;
}
.add-tags-button.is-active .la-plus {
  @apply hidden;
}

.other-tags.is-active {
  @apply opacity-100 visible scale-100;
}

.tag-form.is-active {
  @apply opacity-100 visible scale-100;
}
[data-target="#newTag"].is-active {
  @apply border-solid border-blue-500 text-blue-500;
}

.add-tag:hover .edit-tag {
  @apply opacity-100 visible scale-100;
}

.tag:hover button {
  @apply opacity-100 visible scale-100;
}

/* width */
::-webkit-scrollbar {
  width: 6px;
  height: 8px;
}

/* Track */
::-webkit-scrollbar-track {
  background: #f1f1f1;
}

/* Handle */
::-webkit-scrollbar-thumb {
  background: #aaa;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #888;
}

.ui-state-highlight, .ui-sortable-helper {
  @apply bg-blue-300;
}
.ui-sortable-placeholder {
  @apply bg-green-100 block w-full rounded-md shadow-md mt-3 #{!important};
  height: 100px;
}

input[type="checkbox"].is-checked + .checkbox {
  @apply bg-blue-400;
}
input[type="checkbox"].is-checked + .checkbox + span {
  @apply text-gray-500 line-through;
}

.checklist-header:not(.is-active) + form {
  @apply hidden;
}
.checklist-header:not(.is-active) + form + form {
  @apply hidden;
}
.checklist-header.is-active .toggle-checklist {
  @apply transform rotate-180;
}

.icon-rotate-90 {
  @apply transform rotate-90;
}

.flow-definer-wrapper.is-active {
  @apply opacity-100 visible;
}

#addTicketForm.is-active {
  @apply opacity-100 visible scale-100;
}
.add-ticket.is-active {
  @apply translate-x-0;
}
.add-ticket.is-active .la-times {
  @apply block;
}
.add-ticket.is-active .la-plus {
  @apply hidden;
}
.add-ticket.is-active + div + .save-ticket {
  @apply visible scale-100 origin-center;
}

.mock-sections {
  @apply flex overflow-x-auto px-8 pb-6;
  min-height: 240px;
  min-width: 600px;
  max-width: calc(100vw - 96px);
  input {
    @apply border border-gray-300 rounded-md focus:shadow-blue px-3 text-center;
    transition: none !important;
  }
  .ui-sortable-placeholder {
    min-width: 160px;
  }
  > .button {
    @apply my-0 mx-auto self-center justify-self-center flex-shrink-0;
  }
  .button {
    @apply cursor-pointer;
  }
  
  .mock-section {
    @apply mr-3 relative flex-shrink-0;
    min-width: 200px;
    + .button {
      @apply ml-8
    }
    .wip-limit {
      @apply absolute bottom-3 left-0 w-full px-3 py-0 text-sm;
    }
    &:last-child {
      @apply mr-0;
    }
    .section-header {
      @apply border border-gray-300 py-1.5 px-6 bg-white font-semibold cursor-pointer rounded-t-md focus:outline-none focus:shadow-md;
    }
    .section-body {
      @apply w-full border border-gray-300 border-t-0 bg-white rounded-b-md flex justify-center items-center relative;
      min-height: 240px;
      .section-actions {
        @apply flex flex-wrap justify-center items-center -mt-6;
      }
      .add-subsections, .add-members {
        @apply my-0 mx-1.5;
      }
      .remove-section {
        @apply absolute -top-3.5 mt-0 -right-2 w-6 h-6 text-xs z-20 transform scale-0;
      }
      .mock-section {
        @apply mr-0;
        min-width: 200px;
        .section-header {
          @apply rounded-none border-t-0 border-l-0 text-sm;
        }
        .section-body {
          @apply rounded-none border-b-0 border-l-0 px-3;
          .add-subsections {
            @apply hidden;
          }
          .remove-section {
            @apply -top-3;
          }
        }
        &:last-child {
          .section-header {
            @apply border-r-0;
          }
          .section-body {
            @apply border-r-0;
            @apply rounded-br-md;
          }
        }
        &:first-child {
          .section-body {
            @apply rounded-bl-md;
          }
        }
        
        + .wip-limit {
          @apply hidden;
        }
      }
    }
    &.has-children {
      > .section-body {
        > .section-actions {
          > .add-members {
            @apply hidden;
          }
        }
      }
    }
    &:hover {
      .section-body {
        .remove-section {
          @apply scale-100;
        }
      }
    }
  }
}

.checklist-header:not(.is-active) + div {
  display: none;
}

.colorpick-eyedropper-input-trigger {
  display: none;
}

.form-item.is-active label {
  @apply border-solid border-blue-500;
}
.form-item.is-active .input-type-file-text:not(.text-custom) {
  @apply text-blue-500;
}

.form-item.is-active + button,
[name='checklist']:focus + button,
[name='comment']:focus + button,
[name='checklist-item']:focus + button {
  @apply bg-blue-500;
}

body.oc-loading,
body.oc-loading * {
  @apply cursor-wait #{!important};
}
.stripe-loading-indicator {
  @apply h-px bg-transparent fixed top-0 left-0 w-full overflow-hidden;
  z-index: 2000;
}
.stripe-loading-indicator .stripe,
.stripe-loading-indicator .stripe-loaded {
  @apply h-px block bg-blue-500 bg-opacity-50 absolute;
  box-shadow: inset 0 1px 1px -1px #FFF, inset 0 -1px 1px -1px #FFF;
}
.stripe-loading-indicator .stripe {
  @apply w-full;
  animation: oc-infinite-loader 60s linear;
}
.stripe-loading-indicator .stripe-loaded {
  @apply w-full transform -translate-x-full opacity-0;
}
.stripe-loading-indicator.loaded {
  @apply opacity-0;
  transition: opacity 0.4s linear;
  transition-delay: 0.3s;
}
.stripe-loading-indicator.loaded .stripe {
  animation-play-state: paused
}
.stripe-loading-indicator.loaded .stripe-loaded {
  @apply opacity-100 translate-x-0;
  transition: transform 0.3s linear
}
.stripe-loading-indicator.hide {
  @apply hidden;
}

.edit-comment + button.is-active {
  @apply visible opacity-100;
}

form[id^="commentReply"].is-active {
  @apply visible opacity-100 scale-100;
}

[data-target^="#commentReply"].is-active .la-reply {
  @apply hidden;
}

[data-target^="#commentReply"].is-active .la-times {
  @apply block;
}

.checklist-item:hover .delete-item {
  @apply opacity-100 visible;
}

#updatePriority.is-active {
  @apply opacity-100 visible scale-100;
}

#createProject.is-active {
  @apply opacity-100 visible;
}

[data-tooltip] {
  &::after {
    content: attr(data-tooltip);
    position: absolute;
    @apply block absolute text-black top-full-over opacity-0 scale-0 invisible transition duration-150 whitespace-nowrap bg-gray-100 font-bold rounded-md text-sm px-2 py-1 transform;
  }
  &:hover::after {
    @apply opacity-100 visible scale-100;
  }
  &.is-active[data-tooltip-alt]::after {
    content: attr(data-tooltip-alt);
  }
}

.is-active [data-tooltip-alt]::after {
  content: attr(data-tooltip-alt);
}
.timer-active + * [data-tooltip-alt]::after {
  content: attr(data-tooltip-alt);
}

#js-add-section.is-active {
  @apply opacity-100 visible scale-100;
}
[data-target="#js-add-section"].is-active {
  &::after {
    @apply hidden;
  }
  .la-times {
    @apply block;
  }
  .la-plus {
    @apply hidden;
  }
}
[data-target].is-active + .background-overlay {
  @apply opacity-100 visible;
}

.profile-picture:hover button {
  @apply opacity-100 visible scale-100;
}

#ticketPopup.is-active {
  @apply opacity-100 visible;
}

@keyframes scaleIn {
  0% {
    transform: scale(0);
  }
  100% {
    transform: scale(1);
  }
}

.error-popup {
  animation: .4s scaleIn forwards;
}